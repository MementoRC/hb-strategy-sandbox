# Performance Alert Configuration
# Configuration for trend analysis and alerting system

alert_channels:
  - github_issue
  - step_summary

alert_thresholds:
  critical: 0.25  # 25% regression threshold for critical alerts
  warning: 0.10   # 10% regression threshold for warning alerts
  improvement: 0.05  # 5% improvement threshold for positive alerts

alert_cooldown: 24  # hours between repeated alerts for same benchmark/metric

# Statistical thresholds for trend analysis
trend_analysis:
  min_data_points: 5  # Minimum historical data points for trend analysis
  correlation_threshold: 0.7  # Correlation threshold for detecting strong trends
  anomaly_std_dev_multiplier: 2.0  # Standard deviation multiplier for anomaly detection
  moving_average_window: 10  # Window size for moving average calculations

# GitHub integration settings
github:
  create_issues_for_critical: true
  create_issues_for_warnings: false
  issue_labels:
    - performance-regression
    - automated-alert
  assignees: []  # GitHub usernames to assign issues to
  mention_users: []  # GitHub usernames to mention in issue body

# Alert message templates
templates:
  critical_issue_title: "üö® Critical Performance Regression Detected: {benchmark_name}"
  warning_issue_title: "‚ö†Ô∏è Performance Warning: {benchmark_name}"
  issue_body: |
    ## Performance Alert Summary

    **Benchmark**: `{benchmark_name}`
    **Metric**: `{metric_name}`
    **Severity**: {severity}
    **Change**: {change_percent:+.1f}% ({change_direction})

    ## Current vs Baseline
    - **Current Value**: {current_value}
    - **Baseline Value**: {baseline_value}
    - **Absolute Change**: {change_absolute:+.3f}

    ## Trend Analysis
    {trend_analysis}

    ## Root Cause Indicators
    {root_cause_analysis}

    ## Recommended Actions
    {recommendations}

    ---
    *Automated alert generated by Performance Trend Analyzer*

  step_summary_format: |
    ## üìä Performance Alert: {severity_icon} {severity}

    **{benchmark_name}** - {metric_name}: {change_percent:+.1f}% change
    - Current: {current_value}
    - Baseline: {baseline_value}

    {trend_summary}

# Severity configuration
severity_icons:
  critical: "üö®"
  warning: "‚ö†Ô∏è"
  info: "‚ÑπÔ∏è"
  improvement: "‚úÖ"

# Cooldown tracking (handled by TrendAnalyzer)
cooldown_storage: ".performance_alerts_cooldown.json"
